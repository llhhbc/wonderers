+++
title = "读《微服务架构与实践》总结"
description = "读《微服务架构与实践》总结"
tags = [
    "readbook",
]
date = "2018-07-17T20:01:00+08:00"
categories = [
    "readbook",
]
+++


### 微服务的特征
* 业务独立性
* 轭人自主性
* 单一职责
* 轻量级通信

* 服务作为组件
* 围绕业务组织团队
* 关注产品而非项目
* 技术多样性
* 业务数据独立
* 基础设施自动化
* 演进式架构

### 构建微服务考虑的问题
* 任务拆分

	尽早将开发、测试、部署、运维、监控的流水线打通，才能帮助团队更好的驾驭微服务
	* 同一时间聚焦一个任务
	* 能对每次完成的部分做持续集成
	* 整体的进度容易追踪

	一般任务分为如下几个过程：
	* 服务实现
	* 代码测试与静态检查
	* Docker镜像构建
	* docker镜像部署
	* 功能迭代
	* 日志聚合
	* 监控与告警
	* 持续集成与交付


### 微服务设计

#### 开发
* 独立代码库
* 服务说明文件
	* 服务介绍
	* 服务维护者
	* 服务可用期
	* 定义环境：生产环境、类生产环境、测试环境
	* 开发说明：如果搭建开发环境、如何运行服务、如何定位问题
	* 测试说明：测试策略、如何运行测试、如果查看测试结果
	* 构建说明：集成访问的url、集成流程描述、构建的部署包
	* 部署说明：如何部署到不同环境、部署后功能验证
	* 运维说明：日志聚合的访问、告警信息的访问、监控信息的访问
* 代码所有权归团队：不能让代码只有一个人熟悉
* 有效的代码版本管理
* 代码静态检查工具
* 代码易于本地运行

#### 测试
* 接口测试
* 测试的有效性

#### 构建
* 每个服务都是一个可独立部署的业务单元

#### 部署
* 部署环境说明

#### 运维
* 监控
* 告警
* 日志聚合

### 微服务之前的通讯
* 同步通讯、异步通讯
* rpc
* rest：资源、表述、状态转移、统一接口
	* get用来获取资源
	* post来新建资源
	* put来更新资源
	* delete来删除资源
* hal
	* 基于rest，但把每个资源分成三部分：状态、链接、子资源
* 消息队列


